<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US" xml:lang="en-US">

<head>

<meta charset="utf-8">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta property="dc:format" content="text/html">
<meta name="generator" content="pandoc">
<meta name="viewport" content="width=device-width">
<meta property="dc:type" content="Text">
<meta property="dc:language" content="en">
<meta property="dc:title og:title" content="Current state and prospects of R-packages for the design of experiments">

<meta name="description" property="dc:description og:description schema:description" content="Current state and prospects of R-packages for the design of experiments">


<meta name="keywords" property="dc:subject" content="experimental designCRAN task viewuser interfaceapplication programming interfacesoftware design">

<title>Current state and prospects of R-packages for the design of experiments</title>

<script>
window.PagedConfig = {
  before: async () => {
    // Expand the citations links
    let citations = document.querySelectorAll('.citation');
    for (let citation of citations) {
      let anchor = citation.querySelector('a');
      if (!anchor) continue;
      let span = document.createElement('span');
      span.innerHTML = anchor.innerHTML
      anchor.insertAdjacentElement('afterend', span)
      let href = anchor.getAttribute('href')
      anchor.remove();

      let newAnchor = document.createElement('a');
      newAnchor.setAttribute('href', href);
      citation.insertAdjacentElement('beforebegin', newAnchor);
      newAnchor.appendChild(citation);
    }

    // For the table captions, we would want to write this CSS rule:
    //     caption {caption-side: bottom-outside;}
    // However, the bottom-outside value is not standard and not implemented in Chrome.
    // So, we need to modify the DOM.
    let tables = document.querySelectorAll('table');
    for (let table of tables) {
      let caption = table.querySelector('caption');
      if (!caption) continue;
      let tableContainer = document.createElement('div');
      tableContainer.className = 'table-container';
      table.insertAdjacentElement('beforebegin', tableContainer);
      tableContainer.appendChild(table);
      let bookdownIdentifier = caption.querySelector('span[id^="tab\\:"]');
      if (!!bookdownIdentifier) {
        let tableId = bookdownIdentifier.id;
        bookdownIdentifier.removeAttribute('id');
        table.id = tableId;
      }
      let newCaption = document.createElement('p');
      newCaption.className = 'caption';
      newCaption.innerHTML = caption.innerHTML;
      caption.remove();
      tableContainer.appendChild(newCaption);
    }
  }
}
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
(function() {
  let beforePaged = PagedConfig.before;

  window.PagedConfig = {
    before: async () => {
      await beforePaged();
      await new Promise((resolve, reject) => {
        var script = document.createElement("script");
        script.type = "text/javascript";
        var src = `https://mathjax.rstudio.com/latest/MathJax.js` + "?config=TeX-MML-AM_CHTML";
        if (location.protocol !== "file:" && /^https?:/.test(src))
          src = src.replace(/^https?:/, '');
        script.src = src;
        window.MathJax = {
          AuthorInit: () => {
            MathJax.Hub.Register.StartupHook("Begin", () => {
              MathJax.Hub.Queue(resolve);
            });
          }
        };
        document.getElementsByTagName("head")[0].appendChild(script);
      });
    }
  };
})();
</script>

<script src="index_files/header-attrs-2.11/header-attrs.js"></script>
<link href="index_files/paged-0.16/css/jss-fonts.css" rel="stylesheet" />
<link href="index_files/paged-0.16/css/jss-page.css" rel="stylesheet" />
<link href="index_files/paged-0.16/css/jss.css" rel="stylesheet" />
<script src="index_files/paged-0.16/js/config.js"></script>
<script src="index_files/paged-0.16/js/paged.js"></script>
<script src="index_files/paged-0.16/js/hooks.js"></script>




</head>

<body>
  <div style="display:none" aria-hidden="true">
  \(
    \let\pkg=\mathbf
    \let\proglang=\textsf
    \let\code=\texttt
    \newcommand{\E}{\mathsf{E}}
    \newcommand{\VAR}{\mathsf{VAR}}
    \newcommand{\COV}{\mathsf{COV}}
    \newcommand{\Prob}{\mathsf{P}}
  \)
  </div>




<article>

<header id="header" class="title-page">
<h1 class="title">Current state and prospects of R-packages for the design of experiments</h1>
<span class="shorttitle" style="display: none;" aria-hidden="true">Current state and prospects of R-packages for the design of experiments</span>
<div class="authors-container" role="list">
<p class="author-item" role="listitem" style="--rank: 1;">
<span class="author">Emi Tanaka</span>
<br><span class="author-affil">
Monash University
</span>
</p>
<p class="author-item" role="listitem" style="--rank: 2;">
<span class="author">Dewi Amaliah</span>
<br><span class="author-affil">
Monash University
</span>
</p>
</div>
</header>

<section class="abstract" property="dc:abstract">
<h2 class="abstract-header">Abstract</h2>
<div class="abstract-content">
<p>Re-running an experiment is generally costly and in some cases impossible due to limited resources, so the design of an experiment plays a critical role in increasing the quality of experimental data. In this article we describe the current state of the R-packages for the design of experiments through an exploratory data analysis of package downloads, package metadata, and the comparison of characteristics with other topics. We observe that experimental designs in practice appear to be sufficiently manufactured by a small number of packages and the development of experimental designs occur in silos. We discuss also the interface designs of widely utilised R packages in the field of experimental design and discuss its future prospects for the field.</p>
</div>
<section class="keywords" role="list" aria-labelledby="keywords-header">
<p><span id="keywords-header" class="keywords-heading" aria-level="3" role="heading">Keywords</span>: <span role="listitem">experimental design</span>, <span role="listitem">CRAN task view</span>, <span role="listitem">user interface</span>, <span role="listitem">application programming interface</span>, <span role="listitem">software design</span>.</p>
</section>
</section>

<main role="main">
<style type="text/css">
h1, h2, h3, div > * {
 font-family: "Helvetica Neue",Helvetica,Arial,sans-serif;
}
</style>
<div id="introduction" class="section level1">
<h1>Introduction</h1>
<p>The critical role of data collection is well captured in the expression “garbage in, garbage out” – in other words, if the collected data is rubbish then no analysis, however complex it may be, can make something out of it. A carefully crafted data collection scheme is therefore critical to optimise the information from data. Of all the data collection schemes, the field of experimental designs is specifically devoted to planning an experiment largely based on the founding principles by <span class="citation">Fisher (<a href="#ref-Fisher1935-qc" role="doc-biblioref">1935</a>)</span> or an optimisation framework like those described in <span class="citation">Pukelsheim (<a href="#ref-Pukelsheim2006-sv" role="doc-biblioref">2006</a>)</span>. These experimental designs are often constructed with the aid of a statistical software, such as R <span class="citation">(<a href="#ref-R" role="doc-biblioref">R Core Team 2021</a>)</span>, so software usage can aid in understanding the practice of experimental design. Given the large gain that can be made from collecting higher quality experimental data, we benefit from understanding the current state of the experimental designs in practice.</p>
<!-- Unlike many other data collection schemes, experiments provides the greatest control and consequently, a greater opportunity to statistically optimise the information drawn from the experimental data. -->
<p>Methods for data collection can be dichotomised by the type of data collected – namely, experimental or observational – or alternatively, categorised as experimental design (including quasi-experimental design) or survey design. This dichotomisation, to a great extent, is seen in the <a href="https://cran.r-project.org/web/views/">Comprehensive R Archive Network (CRAN) task views</a> (a volunteer maintained list of R-packages by topic) where R-packages in experimental design are in <a href="https://cran.r-project.org/web/views/ExperimentalDesign.html">ExperimentalDesign</a> task view and R-packages in survey designs are in <a href="https://cran.r-project.org/web/views/OfficialStatistics.html">OfficialStatistics</a> task view. The full list of available topics can be see in Table S1 in the Supplementary Materials and also accessed via the <code>ctv</code> package <span class="citation">(<a href="#ref-ctv" role="doc-biblioref">Zeileis 2005</a>)</span>. A subset of experimental designs are segregated into <a href="https://cran.r-project.org/web/views/ClinicalTrials.html">ClinicalTrials</a> task view, where the focus is on clinical trials with primary interest in sample size calculations. This paper focuses on the packages in <a href="https://cran.r-project.org/web/views/ExperimentalDesign.html">ExperimentalDesign</a> task view, henceforth referred to as “DoE packages”.</p>
<p>In <a href="https://cran.r-project.org/web/views/ExperimentalDesign.html">ExperimentalDesign</a> task view, there are 114 R packages for experimental design and analysis of data from experiments. The sheer quantity and variation of experimental designs in the R-packages are arguably unmatched with any other programming languages, e.g. in Python <span class="citation">(<a href="#ref-python" role="doc-biblioref">Rossum 1995</a>)</span>, only a handful of libraries that generate design of experiment exist (namely <code>pyDOE</code>, <code>pyDOE2</code>, <code>dexpy</code>, <code>experimenter</code> and <code>GPdoemd</code>) with limited type of designs. Thus, the study of DoE packages, based on quantitative and qualitative data, can give us an objective view to the state of the current experimental designs in practice.</p>
<p>A utility of software can also be described by its design to facilitate clear expression and interpretation of the desired experimental design. Certain programming language design can hinder or discourage development of a reliable program <span class="citation">(<a href="#ref-Wasserman1975-xr" role="doc-biblioref">Wasserman 1975</a>)</span>. The immense popularity of <code>tidyverse</code> <span class="citation">(a collection of R-packages for various stages of data analysis that place enormous emphasis on the interface design by <a href="#ref-Wickham2019-mj" role="doc-biblioref">Wickham et al. 2019</a>)</span> is a testament to the impact an interface design can have in practice.</p>
<p>The paper is organised as follows. Section <a href="#data"><strong>??</strong></a> briefly describes the data source used for the analysis in Section <a href="#eda"><strong>??</strong></a>; Section <a href="#eda"><strong>??</strong></a> presents some insights into the state of the current DoE packages by exploratory data analysis of package download data, text descriptions and comparisons with other CRAN task views; Section <a href="#design"><strong>??</strong></a> discuss the interface designs of DoE packages, and we conclude with a discussion in Section <a href="#discussion"><strong>??</strong></a> of future prospects.</p>
</div>
<div id="data" class="section level1">
<h1>Data</h1>
<p>To study the DoE packages, we analyse data using three sources of data as described next.</p>
<div id="rstudio-cran-download-logs" class="section level2">
<h2>RStudio CRAN download logs</h2>
<p>The Comprehensive R Archive Network (CRAN) is a network of servers located across the world that store mirrored versions of R and R-packages. The most popular network is the RStudio mirror (the default server for those that use the RStudio IDE). The RStudio mirror is also the only server that provides a comprehensive daily download logs of R and R-packages since October 2012. The summary data can be easily accessed with the <code>cranlogs</code> package <span class="citation">(<a href="#ref-cranlogs" role="doc-biblioref">Csárdi 2019</a>)</span>. This paper uses the data from the beginning of 2013 to end of 2021 (a total of 9 years) for the DoE packages.</p>
</div>
<div id="package-descriptions" class="section level2">
<h2>Package descriptions</h2>
<p>All CRAN packages have a title, description, package connections (suggests, dependency and imports) and other meta-information in the DESCRIPTION file. We use the text data from the title and description (as accessed in 2022-05-23) in Section <a href="#topics"><strong>??</strong></a>.</p>
</div>
<div id="cran-task-views" class="section level2">
<h2>CRAN task views</h2>
<p>The list of packages in each CRAN task views (as of 2022-05-25) are used to contrast the characteristics of DoE packages in Section <a href="#silo"><strong>??</strong></a>.</p>
</div>
</div>
<div id="eda" class="section level1">
<h1>Explorative data analysis</h1>
<p>All results presented are derived from exploratory data analysis of observational data; consequently, all interpretations are somewhat speculative and
may not be indicative of the true state of the field of experimental design. In particular, any analysis over time are confounded by the fact that the nature of users and package management have also changed over the years. It should be noted that some DoE packages may have been archived or removed from the task view over the years so any cross-sectional analysis presented may not reflect the set of all DoE packages at that particular time period (although we assume such incidences are low).</p>
<p>A subset of DoE packages is not primarily about design of experiments but about the analysis of experimental data. A complete delineation of these packages is difficult as many have some functions that can aid decisions or constructions of experimental designs (and any categorisation is prone to our subjective bias) so we opted not to remove any DoE packages in the analysis.</p>
<div id="popular" class="section level2">
<h2>Small, but diverse, set of packages are sufficient for most designs</h2>
<p>There have been at least 50 DoE packages since 2013 but most of the downloads are concentrated in just a handful of packages. For example, Figure <a href="#fig:plot-lorenz">1</a> shows a Lorenz curve <span class="citation">(<a href="#ref-Lorenz1905-tc" role="doc-biblioref">Lorenz 1905</a>)</span> for the total package downloads in 2021 of 113 DoE packages (first released prior to 2021); we can see from Figure <a href="#fig:plot-lorenz">1</a> that bottom 90% of DoE packages (in terms of total download count in 2021) only share about 30% of total downloads across all DoE packages – in another words, 70% of the total downloads are due to 11 packages (10% of the DoE packages).</p>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:plot-lorenz"></span>
<img src="figures/plot-lorenz-1.png" alt="Lorenz curve of the total download count for DoE packages in 2021. The red line corresponds to the line of perfect equality." width="384" />
<p class="caption">
Figure 1: Lorenz curve of the total download count for DoE packages in 2021. The red line corresponds to the line of perfect equality.
</p>
</div>
<p>If we consider package downloads as a measure of “wealth”, then we can consider using the Gini index <span class="citation">(<a href="#ref-Gini1921-mf" role="doc-biblioref">Gini 1921</a>)</span> as a measure of download inequality across packages. The ratio of the red region over the total colored regions in Figure <a href="#fig:plot-lorenz">1</a> corresponds to the Gini index for 2021. A Gini index of 0% indicates equality in downloads across packages while a value of 100% indicates maximal inequality (all downloads are due to one package). In Figure <a href="#fig:download-share">2</a>, we see that the distributions of the downloads each year have a heavy right tail with the Gini index ranging from 32.5% to 68.3% across the years 2013 to 2021, indicating that there is a high level of inequality of downloads across packages, particularly with more pronounced inequality in the last 5 years.</p>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:download-share"></span>
<img src="figures/download-share-1.png" alt="The distribution of the number of downloads for each DoE package by year. Packages were removed in any year if it was released in that year or later so that each download count is for the full year. The label on the bottom of the plot shows the Gini index for downloads and the number of packages with full year of download count in the corresponding year. In the last 5 years, the Gini index is consistent above 60\% each year indicating that most downloads are due to a relatively small number of packages." width="528" />
<p class="caption">
Figure 2: The distribution of the number of downloads for each DoE package by year. Packages were removed in any year if it was released in that year or later so that each download count is for the full year. The label on the bottom of the plot shows the Gini index for downloads and the number of packages with full year of download count in the corresponding year. In the last 5 years, the Gini index is consistent above 60% each year indicating that most downloads are due to a relatively small number of packages.
</p>
</div>
<p>While in absolute terms the Gini index is high for <a href="https://cran.r-project.org/web/views/ExperimentalDesign.html">ExperimentalDesign</a>, the inequality is not as severe as other CRAN task views as shown in Figure <a href="#fig:fig-gini-all-ctvs">3</a>. We can see in Figure <a href="#fig:fig-gini-all-ctvs">3</a> that the Gini index is generally increasing for DoE packages (as is generally the case for other CRAN task views as shown in Figure S1 in the Supplementary Materials).</p>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:fig-gini-all-ctvs"></span>
<img src="figures/fig-gini-all-ctvs-1.png" alt="The points show the Gini index of the download counts by year for ExperimentalDesign CRAN task view with the color showing the number of packages. The grey line shows the distribution of the Gini index across years for all other CRAN task views. See Figure S2 in the Supplementary Material for the line graph for the Gini index across years by each CRAN task view." width="384" />
<p class="caption">
Figure 3: The points show the Gini index of the download counts by year for ExperimentalDesign CRAN task view with the color showing the number of packages. The grey line shows the distribution of the Gini index across years for all other CRAN task views. See Figure S2 in the Supplementary Material for the line graph for the Gini index across years by each CRAN task view.
</p>
</div>
<p>From Figures <a href="#fig:download-share">2</a> and <a href="#fig:fig-gini-all-ctvs">3</a>, we could draw some indicative states of the field of experimental designs with possible counterfactual interpretations:</p>
<ul>
<li>The increase in the number of packages that are not highly downloaded may mean that <strong><em>there are more packages to construct niche experimental designs</em></strong>. Some examples of these packages include <code>qtlDesign</code>, <code>PwrGSD</code> and <code>Crossover</code> made for QTL experiments, group sequential designs and crossover trials, respectively. These packages would naturally have a smaller number of potential users. Counterfactual to this, the increase could be due to other external factors, such as an increase in a number of skilled contributors, a change in CRAN policy or management to add packages (either to CRAN and/or task view), and/or that new packages are still yet to amass users. While there is an argument that low download counts are due to the low utility and/or quality of the packages, packages in CRAN task views are selected by expert maintainers; thus we can reasonably assume that any package listed in CRAN task view are of a decent utility and quality.</li>
<li>If the downloads are reflective of the experimental designs used in practice, <strong><em>small set of packages appear to be sufficient for most to construct the full set of designs of experiments needed in practice</em></strong>. Packages of course evolve and the top downloaded packages have had regular updates that may have broadened its scope.</li>
<li>While small subset of DoE packages are most frequently used, none of these packages are dominant in the field (judging from comparisons with other CRAN task views). This suggests that there are <strong><em>diverse approaches to designing experiments</em></strong>. This observation doesn’t take into account other approaches to generating experimental designs, like the proprietary software, CycDesignN <span class="citation">(<a href="#ref-cycdesignn" role="doc-biblioref">Whittaker, Williams, and John 2022</a>)</span> and SAS <span class="citation">(<a href="#ref-sas1985sas" role="doc-biblioref">SAS Institute 1985</a>)</span>, which may be widely used.</li>
</ul>
</div>
<div id="ranking" class="section level2">
<h2>There is a lack of adaptation of new or innovative designs</h2>
<p>We can see in Figure <a href="#fig:rank-over-time">4</a> that most of the top 10 ranking packages have been in the top 10 for the last 9 years with <code>lhs</code> steadily climbing up the ranks in the last few years.</p>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:rank-over-time"></span>
<img src="figures/rank-over-time-1.png" alt="The plot shows the rank of top 10 downloaded packages by year. " width="528" />
<p class="caption">
Figure 4: The plot shows the rank of top 10 downloaded packages by year.
</p>
</div>
<p>Figure <a href="#fig:established-packages">5</a> shows a moderate negative correlation between the first release date and the (log of) total download counts of DoE packages in any given year from 2013 to 2021. This suggest that in general, a package released earlier are more likely to be used today (possibly for legacy reasons or the general inertia for adoption of new packages). We can also see in Figure <a href="#fig:established-packages">5</a> the most downloaded packages were generally released in 2004 to 2010.</p>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:established-packages"></span>
<img src="figures/established-packages-1.png" alt="The above figure shows the total download (in log scale) of a package in the corresponding year against the first release date of the package. The blue line corresponds to the least squares fit of a simple linear regression model. The label in the right-hand upper corner shows the sample correlation coefficient between the first release date and the log, with base 10, of the total download count. The high-leverage point on the far left belongs to `conf.design`, authored by one of the earlier contributors to R." width="576" />
<p class="caption">
Figure 5: The above figure shows the total download (in log scale) of a package in the corresponding year against the first release date of the package. The blue line corresponds to the least squares fit of a simple linear regression model. The label in the right-hand upper corner shows the sample correlation coefficient between the first release date and the log, with base 10, of the total download count. The high-leverage point on the far left belongs to <code>conf.design</code>, authored by one of the earlier contributors to R.
</p>
</div>
<p>The lack of change in the top ranking packages are indicative that there has been generally little need for new or innovative experimental design needs for the mass. We do however also see that the the top downloaded packages generally have more updates so it is possible that the packages have improved or broadened the scope of its usage.</p>
</div>
<div id="topics" class="section level2">
<h2>Computer experiments and optimal designs are of interest</h2>
<p>Figure <a href="#fig:wordcloud-over-time">6</a> shows some common purposes of DoE packages, based on bigrams in the package title and description. A bigram is only shown as the frequency of single word was not insightful and there were not many trigrams common across packages. Not surprisingly, the bigram “experimental design” was the most common. More interestingly, “optimal design” appeared across different packages (indicated by the size of the word in Figure <a href="#fig:wordcloud-over-time">6</a>), and the bigrams “latin hypercube” and “computer experiment” used across a few packages that are downloaded frequently (indicated by the color of the word in Figure <a href="#fig:wordcloud-over-time">6</a>). Although there exists a separate <a href="https://cran.r-project.org/web/views/ClinicalTrials.html">ClinicalTrials</a> task view, the DoE packages clearly include some packages that are of interest to clinical trials as shown by the size of the bigram “clinical trial” in Figure <a href="#fig:wordcloud-over-time">6</a>.</p>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:wordcloud-over-time"></span>
<img src="figures/wordcloud-over-time-1.png" alt="The above figure shows the word cloud of bigrams from the title and descriptions of the CRAN packages. The size shows how often the bigram appears across the DoE packages and the color are relative to the total download count in 2021 of the packages that contain the bigram." width="528" />
<p class="caption">
Figure 6: The above figure shows the word cloud of bigrams from the title and descriptions of the CRAN packages. The size shows how often the bigram appears across the DoE packages and the color are relative to the total download count in 2021 of the packages that contain the bigram.
</p>
</div>
</div>
<div id="silo" class="section level2">
<h2>Development of experimental designs occur in silos</h2>
<p>Figure <a href="#fig:ctv-summ-plot">7</a> shows that the <a href="https://cran.r-project.org/web/views/ExperimentalDesign.html">ExperimentalDesign</a> have the lowest average number of contributors among all CRAN task views. In addition, we can also see in Figure <a href="#fig:ctv-summ-plot">7</a> that the <a href="https://cran.r-project.org/web/views/ExperimentalDesign.html">ExperimentalDesign</a> task view has one of the least intra-connectivity (the percentage of packages that make use of other packages within the same task view). The full connection of DoE packages with other DoE packages is shown in Figure <a href="#fig:plot-doe-network">8</a>. These observations suggest that the field of experimental design is one of the least collaborative field and package development generally occur in silos.</p>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:ctv-summ-plot"></span>
<img src="figures/ctv-summ-plot-1.png" alt="The above figure is a scatterplot of the intra-connectivity (the percentage of packages that depends, suggest or imports at least one other package within the same task view) and the average number of contributors for each CRAN task view. A low intra-connectivity suggests that development within the topic mostly occur in silos whilst high  intra-connectivity suggests that there are more interactions within the topic. The color shows the number of packages, the size of the point corresponds to the total number of contributors, and the text labels show the CRAN task view name.  The label of ExperimentalDesign task view is colored red. The task views in the bottom-left corner are topics that are more indicative of contributors working in silos. The actual numerical values are show in Table S1 in the Supplementary Material." width="528" />
<p class="caption">
Figure 7: The above figure is a scatterplot of the intra-connectivity (the percentage of packages that depends, suggest or imports at least one other package within the same task view) and the average number of contributors for each CRAN task view. A low intra-connectivity suggests that development within the topic mostly occur in silos whilst high intra-connectivity suggests that there are more interactions within the topic. The color shows the number of packages, the size of the point corresponds to the total number of contributors, and the text labels show the CRAN task view name. The label of ExperimentalDesign task view is colored red. The task views in the bottom-left corner are topics that are more indicative of contributors working in silos. The actual numerical values are show in Table S1 in the Supplementary Material.
</p>
</div>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:plot-doe-network"></span>
<img src="figures/plot-doe-network-1.png" alt="Package connections (depends, suggests and imports) within the DoE packages. DoE packages that do not depend, suggest or import another DoE package is not shown." width="576" />
<p class="caption">
Figure 8: Package connections (depends, suggests and imports) within the DoE packages. DoE packages that do not depend, suggest or import another DoE package is not shown.
</p>
</div>
</div>
</div>
<div id="design" class="section level1">
<h1>Interface design</h1>
<p>In software design, there are two interface designs to consider: user interface (UI) and application programming interface (API). UI is concerned with the interaction of the software by the user, while the API is concerned with how different programs interact and is predominately of the interest to the developer. The UI design is an abstraction to specifying the desired experimental design and its choices enable how a user expresses the specification of the experimental design.</p>
<p>In this section, we discuss these interface designs broadly, with examples illustrated from the top downloaded packages (shown in Figure <a href="#fig:rank-over-time">4</a>). We exclude <code>ez</code> and <code>DiceKriging</code> from the discussion as the former is predominately visualisation of experimental data and latter is about the analysis of computer experiments in addition to belonging to the same suite of packages as <code>DiceDesign</code>.</p>
<p><code>DoE.wrapper</code> <span class="citation">(<a href="#ref-DoE.wrapper" role="doc-biblioref">Grömping 2020</a>)</span></p>
<div id="the-case-of-space-filling-and-optimal-designs" class="section level2">
<h2>The case of space-filling and optimal designs</h2>
<p>Computer experiments, as discussed in Section <a href="#topics"><strong>??</strong></a>, which generally involve space filling designs, have been on the rise. The exemplar for this type of designs are <code>lhs</code> and <code>DiceDesign</code>. For the <code>lhs</code> package, functions like <code>randomLHS()</code>, <code>optimumLHS()</code>, and <code>maximinLHS()</code>, require users to specify the sample size (<span class="math inline">\(n\)</span>) and the number of variables (<span class="math inline">\(p\)</span>) then it generates a Latin hypercube sample, based on different optimisation schemes (in this case, random, S optimal and maxmin criteria, respectively; see package documentation for more details). Similarly for the <code>DiceDesign</code>, there is a comprehensive list of space-filling designs such as <code>dmaxDesign()</code>, <code>lhsDesign()</code>, <code>straussDesign()</code> and <code>wspDesign()</code> with input of <span class="math inline">\(n\)</span> and <span class="math inline">\(p\)</span> as before (among extra parameters for some) that implement algorithms that either maximise the entropy, produce a random Latin hypercube sample, based on Strauss process and WSP algorithm, respectively. These designs all output a <span class="math inline">\(n \times p\)</span> matrix with values between 0 and 1.</p>
<p>The <code>AlgDesign</code> <span class="citation">(<a href="#ref-AlgDesign" role="doc-biblioref">Wheeler 2022</a>)</span> package offers three primary functions for generating optimal designs: <code>optBlock()</code>, <code>optFederov()</code> and <code>optMonteCarlo()</code>. These functions in general require a formula in terms of the supplied terms with the choice of criterion (D, A and I for the latter two). The difference lies in the search algorithm for the optimal design.</p>
</div>
<div id="the-case-of-factorial-designs" class="section level2">
<h2>The case of factorial designs</h2>
<p>Factorial experiments offer a challenge in the construction and allocation of the treatment factors. This is reflected in a number of packages that specifically addresses this challenge. These include <code>DoE.base</code> <span class="citation">(<a href="#ref-DoE.base" role="doc-biblioref">Grömping 2018</a>)</span> for full factorial and (regular and irregular) orthogonal array designs via <code>fac.design()</code> and <code>oa.design()</code>, respectively, <code>FrF2</code> <span class="citation">(<a href="#ref-FrF2" role="doc-biblioref">Grömping 2014</a>)</span> for fractional 2-level factorial designs using <code>FrF2()</code>, <code>FrF2Large()</code> or <code>pb()</code> Plankett-Burnman designs <span class="citation">(<a href="#ref-Plackett1946-ly" role="doc-biblioref">Plackett and Burman 1946</a>)</span>, <code>conf.design</code> <span class="citation">(<a href="#ref-conf.design" role="doc-biblioref">Venables 2013</a>)</span> for symmetric confounded factorial designs via <code>conf.design()</code>, and <code>BHH2</code> <span class="citation">(<a href="#ref-BHH2" role="doc-biblioref">Barrios 2016</a>)</span> to generate full or fractional 2-level factorial design matrix via <code>ffDesMatrix()</code>. All these designs generally requires the user to input the number of factors and if the design is allowed to vary in the number of levels, the input of the number of levels for each factor. The construction of some of these designs are catalogue-based, e.g. <code>oa.design()</code> in <code>DoE.base</code> and the entire package <code>FrF2.catlg128</code> <span class="citation">(<a href="#ref-FrF2.catlg128" role="doc-biblioref">Grömping 2022</a>)</span> is a list of fractional 2-level factorial designs.</p>
<p>Response surface design, as illustrated by <code>rsm</code> <span class="citation">(<a href="#ref-rsm" role="doc-biblioref">Lenth 2009</a>)</span>, is a factorial experiment but the focus of it is to analyse using response surface modelling. The two well known response surface designs are Box-Behnken design <span class="citation">(<a href="#ref-Box1960-wr" role="doc-biblioref">Box and Behnken 1960</a>)</span> and
central-composite designs <span class="citation">(<a href="#ref-Box1951-ji" role="doc-biblioref">Box and Wilson 1951</a>)</span> via <code>bbd()</code> and <code>ccd()</code> for central-composite designs providing formula.</p>
</div>
<div id="the-case-of-sequential-designs" class="section level2">
<h2>The case of sequential designs</h2>
<p>Another specialised design is sequential design (also called adaptive sampling), which is best represented by <code>tgp</code> <span class="citation">(<a href="#ref-tgp" role="doc-biblioref">Gramacy and Taddy 2010</a>)</span> – these require prior information, which are used to inform the next experimental design using <code>tgp.design()</code> and <code>dopt.gp()</code> which requires users to supply candidate samples to sub-sample from and a model or design from a prior design. Follow-up experiments, which can also be classified as a sequential design, is implemented by <code>BsMD</code> <span class="citation">(<a href="#ref-BsMD" role="doc-biblioref">Barrios 2020</a>)</span>. In <code>BsMD</code>, the follow-up design is determined by a model discriminant approach using <code>MD()</code>.</p>
</div>
<div id="the-case-of-menu-functions" class="section level2">
<h2>The case of menu functions</h2>
<p>The <code>agricolae</code> package <span class="citation">(<a href="#ref-agricolae" role="doc-biblioref">de Mendiburu 2021</a>)</span> was the most downloaded DoE packages in 2013 to 2018 (Figure <a href="#fig:rank-over-time">4</a>) and possibly prior to 2013 (data unavailable). This package is the prime example of constructing designs based on menu functions, e.g. <code>design.crd()</code>, <code>design.rcbd()</code> and <code>design.split()</code> construct a completely randomised design, randomised complete block design and split-plot design, respectively. Users typically supply the treatment labels (or number of treatments in the case of <code>design.split()</code>) and the number of replications as argument to these functions.</p>
</div>
</div>
<div id="discussion" class="section level1">
<h1>Discussion</h1>
<p>Through the exploratory data analysis of three data sources (package download logs, package metadata and CRAN task views) outlined in Section <a href="#data"><strong>??</strong></a>, we have observed that the the total download of DoE packages are concentrated only on a handful of R-packages although these represent a diverse set in comparison with other CRAN task views. Furthermore, the data suggests that the field of experimental design is the least collaborative field; out of all CRAN task views, it has one of the least average number of authors and the lowest intra-connectivity (any dependency on other packages within its own task view).
There are a number of limitations and short coming in our exploratory data analysis. First, CRAN task views are volunteer maintained so some experimental design packages may not be included in the DoE packages. Second, we only use the RStudio CRAN mirror download, which may bias our observations. Third, our analysis are limited to R-packages alone, although the sheer quantity and variation of experimental design is unmatched with any other programming languages. Finally, all our statements should be treated as speculative rather than conclusive; the data are all observational so no conclusive, generalisable statement are possible. Regardless, the data driven nature of our analysis give an objective insight into the field of experimental design.</p>
<p>The interface design (discussed in Section <a href="#design"><strong>??</strong></a>) reveals that the most widely used DoE packages generally have functions that is 1) a menu format (i.e. the name of the function correspond to a particular recipe of the design or optimal search algorithm) and 2) context is often a second-thought (e.g. only the number of factors is needed and the package will assign pseudo factor names or an argument exists for optional input of character vector that corresponds to the factor names).</p>
</div>
<div id="acknowledgement" class="section level1">
<h1>Acknowledgement</h1>
<p>This paper uses the <code>targets</code> framework <span class="citation">(<a href="#ref-targets" role="doc-biblioref">Landau 2021</a>)</span> for reproducibility, <code>knitr</code> <span class="citation">(<a href="#ref-knitr" role="doc-biblioref">Xie 2015</a>)</span> and <code>rmarkdown</code> <span class="citation">(<a href="#ref-rmarkdown" role="doc-biblioref">Xie, Allaire, and Grolemund 2018</a>)</span> for creating reproducible documents, <code>ggplot2</code> <span class="citation">(<a href="#ref-ggplot2" role="doc-biblioref">Wickham 2016</a>)</span>, <code>ggraph</code> <span class="citation">(<a href="#ref-ggraph" role="doc-biblioref">Pedersen 2021</a>)</span>, <code>ggwordcloud</code> <span class="citation">(<a href="#ref-ggwordcloud" role="doc-biblioref">Le Pennec and Slowikowski 2019</a>)</span> and <code>colorspace</code> <span class="citation">(<a href="#ref-colorspace" role="doc-biblioref">Zeileis et al. 2020</a>)</span> for visualisation, <code>kableExtra</code> <span class="citation">(<a href="#ref-kableExtra" role="doc-biblioref">Zhu 2021</a>)</span> for customising the table in the Supplementary Material and <code>tidyverse</code> <span class="citation">(<a href="#ref-Wickham2019-mj" role="doc-biblioref">Wickham et al. 2019</a>)</span>, <code>tidytext</code> <span class="citation">(<a href="#ref-tidytext" role="doc-biblioref">Silge and Robinson 2016</a>)</span>, <code>pluralize</code> <span class="citation">(<a href="#ref-pluralize" role="doc-biblioref">Rudis and Embrey 2020</a>)</span>, and <code>ineq</code> <span class="citation">(<a href="#ref-ineq" role="doc-biblioref">Zeileis 2014</a>)</span> for data processing and manipulation, and <code>cranlogs</code> <span class="citation">(<a href="#ref-cranlogs" role="doc-biblioref">Csárdi 2019</a>)</span> and <code>ctv</code> <span class="citation">(<a href="#ref-ctv" role="doc-biblioref">Zeileis 2005</a>)</span> for extracting data. All code to reproduce this paper is found at <a href="https://github.com/emitanaka/paper-DoE-review" class="uri">https://github.com/emitanaka/paper-DoE-review</a>.</p>
</div>
<div id="references" class="section level1 unnumbered">
<h1>References</h1>
<div id="refs" class="references csl-bib-body hanging-indent" line-spacing="2">
<div id="ref-BHH2" class="csl-entry">
Barrios E (2016). <em>Bhh2: Useful Functions for Box, Hunter and Hunter II</em>. Retrieved from <a href="https://CRAN.R-project.org/package=BHH2">https://CRAN.R-project.org/package=BHH2</a>
</div>
<div id="ref-BsMD" class="csl-entry">
Barrios E (2020). <em>BsMD: Bayes Screening and Model Discrimination</em>. Retrieved from <a href="https://CRAN.R-project.org/package=BsMD">https://CRAN.R-project.org/package=BsMD</a>
</div>
<div id="ref-Box1960-wr" class="csl-entry">
Box GEP, Behnken DW (1960). <span>“Some New Three Level Designs for the Study of Quantitative Variables.”</span> <em>Technometrics: A Journal of Statistics for the Physical, Chemical, and Engineering Sciences</em>, <strong>2</strong>(4), 455–475. <a href="https://doi.org/10.2307/1266454">https://doi.org/10.2307/1266454.</a>
</div>
<div id="ref-Box1951-ji" class="csl-entry">
Box GEP, Wilson KB (1951). <span>“On the Experimental Attainment of Optimum Conditions.”</span> <em>Journal of the Royal Statistical Society. Series B, Statistical Methodology</em>, <strong>13</strong>(1), 1–45.
</div>
<div id="ref-cranlogs" class="csl-entry">
Csárdi G (2019). <em>Cranlogs: Download Logs from the ’RStudio’ ’CRAN’ Mirror</em>. Retrieved from <a href="https://CRAN.R-project.org/package=cranlogs">https://CRAN.R-project.org/package=cranlogs</a>
</div>
<div id="ref-agricolae" class="csl-entry">
de Mendiburu F (2021). <em>Agricolae: Statistical Procedures for Agricultural Research</em>. Retrieved from <a href="https://CRAN.R-project.org/package=agricolae">https://CRAN.R-project.org/package=agricolae</a>
</div>
<div id="ref-Fisher1935-qc" class="csl-entry">
Fisher R (1935). <em>The Design of Experiments</em>. Oliver; Boyd.
</div>
<div id="ref-Gini1921-mf" class="csl-entry">
Gini C (1921). <span>“Measurement of Inequality of Incomes.”</span> <em>The Economic Journal</em>, <strong>31</strong>(121), 124–126. <a href="https://doi.org/10.2307/2223319">https://doi.org/10.2307/2223319.</a>
</div>
<div id="ref-tgp" class="csl-entry">
Gramacy RB, Taddy M (2010). <span>“Categorical Inputs, Sensitivity Analysis, Optimization and Importance Tempering with <span class="nocase">tgp</span> Version 2, an <span>R</span> Package for Treed Gaussian Process Models.”</span> <em>Journal of Statistical Software</em>, <strong>33</strong>(6), 1–48. <a href="https://doi.org/10.18637/jss.v033.i06">https://doi.org/10.18637/jss.v033.i06.</a>
</div>
<div id="ref-FrF2" class="csl-entry">
Grömping U (2014). <span>“<span>R</span> Package <span>FrF2</span> for Creating and Analyzing Fractional Factorial 2-Level Designs.”</span> <em>Journal of Statistical Software</em>, <strong>56</strong>(1), 1–56. Retrieved from <a href="https://www.jstatsoft.org/v56/i01/">https://www.jstatsoft.org/v56/i01/</a>
</div>
<div id="ref-DoE.base" class="csl-entry">
Grömping U (2018). <span>“<span>R</span> Package <span class="nocase">DoE.base</span> for Factorial Experiments.”</span> <em>Journal of Statistical Software</em>, <strong>85</strong>(5), 1–41. <a href="https://doi.org/10.18637/jss.v085.i05">https://doi.org/10.18637/jss.v085.i05.</a>
</div>
<div id="ref-DoE.wrapper" class="csl-entry">
Grömping U (2020). <em>DoE.wrapper: Wrapper Package for Design of Experiments Functionality</em>. Retrieved from <a href="https://CRAN.R-project.org/package=DoE.wrapper">https://CRAN.R-project.org/package=DoE.wrapper</a>
</div>
<div id="ref-FrF2.catlg128" class="csl-entry">
Grömping U (2022). <em>FrF2.catlg128: Catalogues of Resolution IV 128 Run 2-Level Fractional Factorials up to 33 Factors That Do Have 5-Letter Words</em>. Retrieved from <a href="https://CRAN.R-project.org/package=FrF2.catlg128">https://CRAN.R-project.org/package=FrF2.catlg128</a>
</div>
<div id="ref-targets" class="csl-entry">
Landau WM (2021). <span>“The Targets r Package: A Dynamic Make-Like Function-Oriented Pipeline Toolkit for Reproducibility and High-Performance Computing.”</span> <em>Journal of Open Source Software</em>, <strong>6</strong>(57), 2959. Retrieved from <a href="https://doi.org/10.21105/joss.02959">https://doi.org/10.21105/joss.02959</a>
</div>
<div id="ref-ggwordcloud" class="csl-entry">
Le Pennec E, Slowikowski K (2019). <em>Ggwordcloud: A Word Cloud Geom for ’Ggplot2’</em>. Retrieved from <a href="https://CRAN.R-project.org/package=ggwordcloud">https://CRAN.R-project.org/package=ggwordcloud</a>
</div>
<div id="ref-rsm" class="csl-entry">
Lenth RV (2009). <span>“Response-Surface Methods in <span>R</span>, Using <span class="nocase">rsm</span>.”</span> <em>Journal of Statistical Software</em>, <strong>32</strong>(7), 1–17. <a href="https://doi.org/10.18637/jss.v032.i07">https://doi.org/10.18637/jss.v032.i07.</a>
</div>
<div id="ref-Lorenz1905-tc" class="csl-entry">
Lorenz MO (1905). <span>“Methods of Measuring the Concentration of Wealth.”</span> <em>Publications of the American Statistical Association</em>, <strong>9</strong>(70), 209–219. <a href="https://doi.org/10.2307/2276207">https://doi.org/10.2307/2276207.</a>
</div>
<div id="ref-ggraph" class="csl-entry">
Pedersen TL (2021). <em>Ggraph: An Implementation of Grammar of Graphics for Graphs and Networks</em>. Retrieved from <a href="https://CRAN.R-project.org/package=ggraph">https://CRAN.R-project.org/package=ggraph</a>
</div>
<div id="ref-Plackett1946-ly" class="csl-entry">
Plackett RL, Burman JP (1946). <span>“The Design of Optimum Multifactorial Experiments.”</span> <em>Biometrika</em>, <strong>33</strong>(4), 302–325.
</div>
<div id="ref-Pukelsheim2006-sv" class="csl-entry">
Pukelsheim F (2006). <em>Optimal Design of Experiments</em>.
</div>
<div id="ref-R" class="csl-entry">
R Core Team (2021). <em>R: A Language and Environment for Statistical Computing</em>. R Foundation for Statistical Computing, Vienna, Austria. Retrieved from <a href="https://www.R-project.org/">https://www.R-project.org/</a>
</div>
<div id="ref-python" class="csl-entry">
Rossum G van (1995). <em>Python Tutorial</em> (No. CS-R9526). Amsterdam: Centrum voor Wiskunde en Informatica (CWI).
</div>
<div id="ref-pluralize" class="csl-entry">
Rudis B, Embrey B (2020). <em>Pluralize: Pluralize and ’Singularize’ Any (English) Word</em>. Retrieved from <a href="https://CRAN.R-project.org/package=pluralize">https://CRAN.R-project.org/package=pluralize</a>
</div>
<div id="ref-sas1985sas" class="csl-entry">
SAS Institute (1985). <em>SAS User’s Guide: Statistics</em> Vol. 2. Sas Inst.
</div>
<div id="ref-tidytext" class="csl-entry">
Silge J, Robinson D (2016). <span>“Tidytext: Text Mining and Analysis Using Tidy Data Principles in r.”</span> <em>JOSS</em>, <strong>1</strong>(3). <a href="https://doi.org/10.21105/joss.00037">https://doi.org/10.21105/joss.00037.</a>
</div>
<div id="ref-conf.design" class="csl-entry">
Venables B (2013). <em>Conf.design: Construction of Factorial Designs</em>. Retrieved from <a href="https://CRAN.R-project.org/package=conf.design">https://CRAN.R-project.org/package=conf.design</a>
</div>
<div id="ref-Wasserman1975-xr" class="csl-entry">
Wasserman AI (1975). <span>“Issues in Programming Language Design - an Overview.”</span>
</div>
<div id="ref-AlgDesign" class="csl-entry">
Wheeler B (2022). <em>AlgDesign: Algorithmic Experimental Design</em>. Retrieved from <a href="https://CRAN.R-project.org/package=AlgDesign">https://CRAN.R-project.org/package=AlgDesign</a>
</div>
<div id="ref-cycdesignn" class="csl-entry">
Whittaker D, Williams ER, John JA (2022). CycDesign: A package for the computer generation of experimental designs, (Version 7.0). Retrieved from <a href="https://vsni.co.uk/software/cycdesign">https://vsni.co.uk/software/cycdesign</a>
</div>
<div id="ref-ggplot2" class="csl-entry">
Wickham H (2016). <em>Ggplot2: Elegant Graphics for Data Analysis</em>. Springer-Verlag New York. Retrieved from <a href="https://ggplot2.tidyverse.org">https://ggplot2.tidyverse.org</a>
</div>
<div id="ref-Wickham2019-mj" class="csl-entry">
Wickham H, Averick M, Bryan J, Chang W, McGowan LD, Francois R, Grolemund G, Hayes A, Henry L, Hester J, et al. (2019). <span>“Welcome to the Tidyverse.”</span> <em>Journal of Open Source Software</em>, <strong>4</strong>(43), 1686.
</div>
<div id="ref-knitr" class="csl-entry">
Xie Y (2015). <em>Dynamic Documents with <span>R</span> and Knitr</em> 2nd ed. Chapman; Hall/CRC, Boca Raton, Florida. Retrieved from <a href="https://yihui.org/knitr/">https://yihui.org/knitr/</a>
</div>
<div id="ref-rmarkdown" class="csl-entry">
Xie Y, Allaire JJ, Grolemund G (2018). <em>R Markdown: The Definitive Guide</em>. Chapman; Hall/CRC, Boca Raton, Florida. Retrieved from <a href="https://bookdown.org/yihui/rmarkdown">https://bookdown.org/yihui/rmarkdown</a>
</div>
<div id="ref-ctv" class="csl-entry">
Zeileis A (2005). <span>“<span>CRAN</span> Task Views.”</span> <em>R News</em>, <strong>5</strong>(1), 39–40. Retrieved from <a href="https://CRAN.R-project.org/doc/Rnews/">https://CRAN.R-project.org/doc/Rnews/</a>
</div>
<div id="ref-ineq" class="csl-entry">
Zeileis A (2014). <em>Ineq: Measuring Inequality, Concentration, and Poverty</em>. Retrieved from <a href="https://CRAN.R-project.org/package=ineq">https://CRAN.R-project.org/package=ineq</a>
</div>
<div id="ref-colorspace" class="csl-entry">
Zeileis A, Fisher JC, Hornik K, Ihaka R, McWhite CD, Murrell P, Stauffer R, Wilke CO (2020). <span>“<span class="nocase">colorspace</span>: A Toolbox for Manipulating and Assessing Colors and Palettes.”</span> <em>Journal of Statistical Software</em>, <strong>96</strong>(1), 1–49. <a href="https://doi.org/10.18637/jss.v096.i01">https://doi.org/10.18637/jss.v096.i01.</a>
</div>
<div id="ref-kableExtra" class="csl-entry">
Zhu H (2021). <em>kableExtra: Construct Complex Table with ’Kable’ and Pipe Syntax</em>. Retrieved from <a href="https://CRAN.R-project.org/package=kableExtra">https://CRAN.R-project.org/package=kableExtra</a>
</div>
</div>
</div>
</main>

<footer class="article-footer">
</footer>
</article>


<script>
// when the page is about to reload via servr, remember the scroll position
document.addEventListener('servr:reload', function(e) {
  sessionStorage.setItem('pagedown-scroll', window.scrollY);
});
</script>
</body>
</html>
